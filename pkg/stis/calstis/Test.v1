# This libcvos.a is in this directory; I deleted three objects:
herbert> ar -d libcvos.a xsynphot.o xtables.o irafinit.o
herbert> ar -tv libcvos.a
rw-r--r-- 15/2  12552 Mar  3 21:37 2010 irafsppinit.o
rw-r--r-- 15/2   9412 Mar  3 21:37 2010 irafmn.o
rw-r--r-- 15/2   2896 Mar  3 21:37 2010 imspp.o
rw-r--r-- 15/2   2928 Mar  3 21:37 2010 cvos_maideh.o
rw-r--r-- 15/2   1332 Mar  3 21:37 2010 cvos_error.o
rw-r--r-- 15/2   4256 Mar  3 21:37 2010 c_iraf_priv.o
rw-r--r-- 15/2   3116 Mar  3 21:37 2010 irafcmain.o
rw-r--r-- 15/2    784 Mar  3 21:37 2010 setpgrp_hack.o
rw-r--r-- 15/2  11320 Mar  3 21:37 2010 xclio.o
rw-r--r-- 15/2  14756 Mar  3 21:37 2010 xcurfit.o
rw-r--r-- 15/2   5872 Mar  3 21:37 2010 xsurfit.o
rw-r--r-- 15/2  12344 Mar  3 21:37 2010 xgsurfit.o
rw-r--r-- 15/2   7840 Mar  3 21:37 2010 xnlfit.o
rw-r--r-- 15/2  10332 Mar  3 21:37 2010 ximinterp.o
rw-r--r-- 15/2   2388 Mar  3 21:37 2010 xgflib.o
rw-r--r-- 15/2  29128 Mar  3 21:37 2010 ximio.o
rw-r--r-- 15/2  15572 Mar  3 21:37 2010 xqpoe.o
rw-r--r-- 15/2   5504 Mar  3 21:37 2010 xselector.o
rw-r--r-- 15/2   1824 Mar  3 21:37 2010 xxtools.o
rw-r--r-- 15/2   9960 Mar  3 21:37 2010 xmwcs.o
rw-r--r-- 15/2  72140 Mar  3 21:37 2010 xvops.o

	$link cs0.o ../calstis.a \
                ../../C/addCol.o \
                ../../C/cerror.o \
                ../../C/irafinit.o \
                ../../C/c_imt.o \
                ../../C/ctables.o \
                ../../C/c_tbagt.o \
                ../../C/c_tbapt.o \
                ../../C/c_tbcdef1.o \
                ../../C/c_tbcfnd1.o \
                ../../C/c_tbciga.o \
                ../../C/c_tbcigi.o \
                ../../C/c_tbcigt.o \
                ../../C/c_tbcinf.o \
                ../../C/c_tbcnum.o \
                ../../C/c_tbegt.o \
                ../../C/c_tbept.o \
                ../../C/c_tbfpri.o \
                ../../C/c_tbfres.o \
                ../../C/c_tbhad.o \
                ../../C/c_tbhcal.o \
                ../../C/c_tbhgcm.o \
                ../../C/c_tbhgnp.o \
                ../../C/c_tbhgt.o \
                ../../C/c_tbhpcm.o \
                ../../C/c_tbhptt.o \
                ../../C/c_tbparse.o \
                ../../C/c_tbpsta.o \
                ../../C/c_tbrcsc.o \
                ../../C/c_tbrgtr.o \
                ../../C/c_tbrudf.o \
                ../../C/c_tbtacc.o \
                ../../C/c_tbtclo.o \
                ../../C/c_tbtcre.o \
                ../../C/c_tbtnam.o \
                ../../C/c_tbtopn.o \
                ../../C/initCol.o \
                ../../C/tbCopyTmpl.o \
                ../../C/tbHeader.o \
                ../../C/tbl_util.o \
                ../../C/tbSaveInfo.o \
                ../../C/c_phopar.o \
                /user/mdroe/stsdas/bin.redhat/libhstio.a \
                ../../cfitsio/libcfitsio.a \
                -lstxtools -lapplib \
		-o cs0.e

# in /user/hodge/tables/stisdata/
herbert> /user/hodge/tables/calstis/cs0/cs0.e o66p01020_raw.fits

*** CALSTIS-0 -- Version 2.27 (12-December-2008) ***
Begin    04-Mar-2010 14:23:30 EST

Input    o66p01020_raw.fits
debug:  about to call StisInit
debug:  texptime = 8820
debug:  GetSciInfo called, status = 0
Wavecal  o66p01020_wav.fits
debug:  about to call GetWavInfo
debug:  GetWavInfo called, status = 0
debug:  about to call CheckWav
debug:  about to call initHdr
debug:  initHdr called
debug:  about to call openInputImage
debug:  openInputImage called
debug:  about to call getHeader
debug:  getHeader called
debug:  about to call closeImage
debug:  closeImage called
debug:  about to call Get_KeyD
debug:  Get_KeyD called
debug:  Get_KeyI called
debug:  about to call freeHdr
debug:  freeHdr called
debug:  about to call initSingleGroup
debug:  about to call getSingleGroup    # in checkwav.c
Segmentation fault

cerror.c is my version, which defines:
    int c_iraferr();
    char *c_iraferrmsg();
    void clear_cvoserr();
irafinit.c is Mike's version, but with only his c_vfn2osfn function and
the following dummy variables and functions:

typedef void (*c_IRAFErrHandler)(void);

int cvos_irafinit = 0;

void c_irafinit (int argc, char **argv) {
        cvos_irafinit = 1;
}
int c_pusherr (c_IRAFErrHandler x) {
        return 1;
}
int c_poperr (void) {
        return 1;
}
